function ke(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var fe={exports:{}};(function(m){(function(h){var c=Pe(),I=Ee(),ae=xe(),ce=Ce(),ie={imagePlaceholder:void 0,cacheBust:!1},T={toSvg:le,toPng:he,toJpeg:pe,toBlob:ve,toPixelData:ge,impl:{fontFaces:ae,images:ce,util:c,inliner:I,options:{}}};m.exports=T;function le(n,t){return t=t||{},ye(t),Promise.resolve(n).then(function(a){return ue(a,t.filter,!0)}).then(we).then(be).then(r).then(function(a){return Se(a,t.width||c.width(n),t.height||c.height(n))});function r(a){return t.bgcolor&&(a.style.backgroundColor=t.bgcolor),t.width&&(a.style.width=t.width+"px"),t.height&&(a.style.height=t.height+"px"),t.style&&Object.keys(t.style).forEach(function(s){a.style[s]=t.style[s]}),a}}function ge(n,t){return R(n,t||{}).then(function(r){return r.getContext("2d").getImageData(0,0,c.width(n),c.height(n)).data})}function he(n,t){return R(n,t||{}).then(function(r){return r.toDataURL()})}function pe(n,t){return t=t||{},R(n,t).then(function(r){return r.toDataURL("image/jpeg",t.quality||1)})}function ve(n,t){return R(n,t||{}).then(c.canvasToBlob)}function ye(n){typeof n.imagePlaceholder>"u"?T.impl.options.imagePlaceholder=ie.imagePlaceholder:T.impl.options.imagePlaceholder=n.imagePlaceholder,typeof n.cacheBust>"u"?T.impl.options.cacheBust=ie.cacheBust:T.impl.options.cacheBust=n.cacheBust}function R(n,t){return le(n,t).then(c.makeImage).then(c.delay(100)).then(function(a){var s=r(n);return s.getContext("2d").drawImage(a,0,0),s});function r(a){var s=document.createElement("canvas");if(s.width=t.width||c.width(a),s.height=t.height||c.height(a),t.bgcolor){var u=s.getContext("2d");u.fillStyle=t.bgcolor,u.fillRect(0,0,s.width,s.height)}return s}}function ue(n,t,r){if(!r&&t&&!t(n))return Promise.resolve();return Promise.resolve(n).then(a).then(function(o){return s(n,o,t)}).then(function(o){return u(n,o)});function a(o){return o instanceof HTMLCanvasElement?c.makeImage(o.toDataURL()):o.cloneNode(!1)}function s(o,i,w){var E=o.childNodes;if(E.length===0)return Promise.resolve(i);return p(i,c.asArray(E),w).then(function(){return i});function p(q,b,v){var S=Promise.resolve();return b.forEach(function(L){S=S.then(function(){return ue(L,v)}).then(function(P){P&&q.appendChild(P)})}),S}}function u(o,i){if(!(i instanceof Element))return i;return Promise.resolve().then(w).then(E).then(p).then(q).then(function(){return i});function w(){b(window.getComputedStyle(o),i.style);function b(v,S){v.cssText?S.cssText=v.cssText:L(v,S);function L(P,C){c.asArray(P).forEach(function(e){C.setProperty(e,P.getPropertyValue(e),P.getPropertyPriority(e))})}}}function E(){[":before",":after"].forEach(function(v){b(v)});function b(v){var S=window.getComputedStyle(o,v),L=S.getPropertyValue("content");if(L===""||L==="none")return;var P=c.uid();i.className=i.className+" "+P;var C=document.createElement("style");C.appendChild(e(P,v,S)),i.appendChild(C);function e(l,d,f){var y="."+l+":"+d,x=f.cssText?X(f):W(f);return document.createTextNode(y+"{"+x+"}");function X(k){var A=k.getPropertyValue("content");return k.cssText+" content: "+A+";"}function W(k){return c.asArray(k).map(A).join("; ")+";";function A(B){return B+": "+k.getPropertyValue(B)+(k.getPropertyPriority(B)?" !important":"")}}}}}function p(){o instanceof HTMLTextAreaElement&&(i.innerHTML=o.value),o instanceof HTMLInputElement&&i.setAttribute("value",o.value)}function q(){i instanceof SVGElement&&(i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i instanceof SVGRectElement&&["width","height"].forEach(function(b){var v=i.getAttribute(b);v&&i.style.setProperty(b,v)}))}}}function we(n){return ae.resolveAll().then(function(t){var r=document.createElement("style");return n.appendChild(r),r.appendChild(document.createTextNode(t)),n})}function be(n){return ce.inlineAll(n).then(function(){return n})}function Se(n,t,r){return Promise.resolve(n).then(function(a){return a.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(a)}).then(c.escapeXhtml).then(function(a){return'<foreignObject x="0" y="0" width="100%" height="100%">'+a+"</foreignObject>"}).then(function(a){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+r+'">'+a+"</svg>"}).then(function(a){return"data:image/svg+xml;charset=utf-8,"+a})}function Pe(){return{escape:q,parseExtension:t,mimeType:r,dataAsUrl:p,isDataUrl:a,canvasToBlob:u,resolveUrl:o,getAndEncode:E,uid:i(),delay:b,asArray:v,escapeXhtml:S,makeImage:w,width:L,height:P};function n(){var e="application/font-woff",l="image/jpeg";return{woff:e,woff2:e,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:l,jpeg:l,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function t(e){var l=/\.([^\.\/]*?)$/g.exec(e);return l?l[1]:""}function r(e){var l=t(e).toLowerCase();return n()[l]||""}function a(e){return e.search(/^(data:)/)!==-1}function s(e){return new Promise(function(l){for(var d=window.atob(e.toDataURL().split(",")[1]),f=d.length,y=new Uint8Array(f),x=0;x<f;x++)y[x]=d.charCodeAt(x);l(new Blob([y],{type:"image/png"}))})}function u(e){return e.toBlob?new Promise(function(l){e.toBlob(l)}):s(e)}function o(e,l){var d=document.implementation.createHTMLDocument(),f=d.createElement("base");d.head.appendChild(f);var y=d.createElement("a");return d.body.appendChild(y),f.href=l,y.href=e,y.href}function i(){var e=0;return function(){return"u"+l()+e++;function l(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function w(e){return new Promise(function(l,d){var f=new Image;f.onload=function(){l(f)},f.onerror=d,f.src=e})}function E(e){var l=3e4;return T.impl.options.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime()),new Promise(function(d){var f=new XMLHttpRequest;f.onreadystatechange=X,f.ontimeout=W,f.responseType="blob",f.timeout=l,f.open("GET",e,!0),f.send();var y;if(T.impl.options.imagePlaceholder){var x=T.impl.options.imagePlaceholder.split(/,/);x&&x[1]&&(y=x[1])}function X(){if(f.readyState===4){if(f.status!==200){y?d(y):k("cannot fetch resource: "+e+", status: "+f.status);return}var A=new FileReader;A.onloadend=function(){var B=A.result.split(/,/)[1];d(B)},A.readAsDataURL(f.response)}}function W(){y?d(y):k("timeout of "+l+"ms occured while fetching resource: "+e)}function k(A){console.error(A),d("")}})}function p(e,l){return"data:"+l+";base64,"+e}function q(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function b(e){return function(l){return new Promise(function(d){setTimeout(function(){d(l)},e)})}}function v(e){for(var l=[],d=e.length,f=0;f<d;f++)l.push(e[f]);return l}function S(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")}function L(e){var l=C(e,"border-left-width"),d=C(e,"border-right-width");return e.scrollWidth+l+d}function P(e){var l=C(e,"border-top-width"),d=C(e,"border-bottom-width");return e.scrollHeight+l+d}function C(e,l){var d=window.getComputedStyle(e).getPropertyValue(l);return parseFloat(d.replace("px",""))}}function Ee(){var n=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:s,shouldProcess:t,impl:{readUrls:r,inline:a}};function t(u){return u.search(n)!==-1}function r(u){for(var o=[],i;(i=n.exec(u))!==null;)o.push(i[1]);return o.filter(function(w){return!c.isDataUrl(w)})}function a(u,o,i,w){return Promise.resolve(o).then(function(p){return i?c.resolveUrl(p,i):p}).then(w||c.getAndEncode).then(function(p){return c.dataAsUrl(p,c.mimeType(o))}).then(function(p){return u.replace(E(o),"$1"+p+"$3")});function E(p){return new RegExp(`(url\\(['"]?)(`+c.escape(p)+`)(['"]?\\))`,"g")}}function s(u,o,i){if(w())return Promise.resolve(u);return Promise.resolve(u).then(r).then(function(E){var p=Promise.resolve(u);return E.forEach(function(q){p=p.then(function(b){return a(b,q,o,i)})}),p});function w(){return!t(u)}}}function xe(){return{resolveAll:n,impl:{readAll:t}};function n(){return t().then(function(r){return Promise.all(r.map(function(a){return a.resolve()}))}).then(function(r){return r.join(`
`)})}function t(){return Promise.resolve(c.asArray(document.styleSheets)).then(a).then(r).then(function(u){return u.map(s)});function r(u){return u.filter(function(o){return o.type===CSSRule.FONT_FACE_RULE}).filter(function(o){return I.shouldProcess(o.style.getPropertyValue("src"))})}function a(u){var o=[];return u.forEach(function(i){try{c.asArray(i.cssRules||[]).forEach(o.push.bind(o))}catch(w){console.log("Error while reading CSS rules from "+i.href,w.toString())}}),o}function s(u){return{resolve:function(){var i=(u.parentStyleSheet||{}).href;return I.inlineAll(u.cssText,i)},src:function(){return u.style.getPropertyValue("src")}}}}}function Ce(){return{inlineAll:t,impl:{newImage:n}};function n(r){return{inline:a};function a(s){return c.isDataUrl(r.src)?Promise.resolve():Promise.resolve(r.src).then(s||c.getAndEncode).then(function(u){return c.dataAsUrl(u,c.mimeType(r.src))}).then(function(u){return new Promise(function(o,i){r.onload=o,r.onerror=i,r.src=u})})}}function t(r){if(!(r instanceof Element))return Promise.resolve(r);return a(r).then(function(){return r instanceof HTMLImageElement?n(r).inline():Promise.all(c.asArray(r.childNodes).map(function(s){return t(s)}))});function a(s){var u=s.style.getPropertyValue("background");return u?I.inlineAll(u).then(function(o){s.style.setProperty("background",o,s.style.getPropertyPriority("background"))}).then(function(){return s}):Promise.resolve(s)}}}})()})(fe);var Ae=fe.exports;const Te=ke(Ae);console.log(">> Ready :)");console.log("ready");const de=document.querySelector(".input-image"),N=document.querySelector(".input-name"),H=document.querySelector(".input-rol"),j=document.querySelector(".input-github"),_=document.querySelector(".input-mail"),V=document.querySelector(".input-tel"),G=document.querySelector(".input-slack"),Le=document.querySelector(".reset-button"),qe=document.querySelector(".form-container");document.querySelector(".reset-info");const Z=document.querySelector(".card-name"),ee=document.querySelector(".card-rol"),te=document.querySelector(".card-github"),ne=document.querySelector(".card-phone"),re=document.querySelector(".card-email"),oe=document.querySelector(".card-slack"),J=document.querySelector(".blank-profile-pic"),Ie=document.querySelector(".preview-card");Ie.innerHTML;const Ue=m=>{const h=de.files[0];if(h){const c=new FileReader;c.onload=I=>{J.src=I.target.result,me()},c.readAsDataURL(h)}};de.addEventListener("change",Ue);const g={username:"María",rol:"FRONT-END",gitHubUser:"https://github.com/maria",email:"maria@gmail.com",phone:"555 555 555",slack:"@_maria",profilePic:"images/default-profile-pic.png",selectedStyle:"style-one"},me=()=>{const m={image:J.src,name:N.value,rol:H.value,github:j.value,mail:_.value,tel:V.value,slack:G.value};localStorage.setItem("cardData",JSON.stringify(m))},Be=()=>{const m=localStorage.getItem("cardData");if(!m)return;const h=JSON.parse(m);N.value=h.name||"",H.value=h.rol||"",j.value=h.github||"",_.value=h.mail||"",V.value=h.tel||"",G.value=h.slack||"",Z.textContent=h.name||g.username,ee.textContent=h.rol||g.rol,te.textContent=h.github||g.gitHubUser,re.textContent=h.mail||g.email,ne.textContent=h.tel||g.phone,oe.textContent=h.slack||g.slack,J.src=h.image||g.profilePic},De=()=>{Z.textContent=N.value||g.username,ee.textContent=H.value||g.rol,te.textContent=j.value||g.gitHubUser,re.textContent=_.value||g.email,ne.textContent=V.value||g.phone,oe.textContent=G.value||g.slack,me()};[N,H,j,_,V,G].forEach(m=>{m.addEventListener("input",De)});document.addEventListener("DOMContentLoaded",Be);const Re=()=>{qe.reset(),J.src=g.profilePic,Z.textContent=g.username,ee.textContent=g.rol,te.textContent=g.gitHubUser,re.textContent=g.email,ne.textContent=g.phone,oe.textContent=g.slack,D(g.selectedStyle),localStorage.removeItem("cardData")};Le.addEventListener("click",Re);const F=document.querySelector(".style-one"),M=document.querySelector(".style-two"),O=document.querySelector(".style-three"),$=document.querySelector(".github-icon"),z=document.querySelector(".email-icon"),K=document.querySelector(".phone-icon"),Q=document.querySelector(".slack-icon"),U=document.querySelector(".preview-card-image"),Y=document.querySelector(".logo-adalab"),D=m=>{m==="style-one"?(F.checked=!0,M.checked=!1,O.checked=!1,$.src="images/icon-gray-github.png",z.src="images/icon-gray-email.png",K.src="images/icon-gray-phone.png",Q.src="images/icon-gray-slack.png",U.classList.remove("preview-card-image_style2"),U.classList.remove("preview-card-image_style3"),Y.src="images/logo-adalab.png"):m==="style-two"?(F.checked=!1,M.checked=!0,O.checked=!1,$.src="images/icon-green-github.png",z.src="images/icon-green-email.png",K.src="images/icon-green-phone.png",Q.src="images/icon-green-slack.png",U.classList.add("preview-card-image_style2"),U.classList.remove("preview-card-image_style3"),Y.src="images/logo-adalab-negativo.png"):m==="style-three"&&(F.checked=!1,M.checked=!1,O.checked=!0,$.src="images/icon-orange-github.png",z.src="images/icon-orange-email.png",K.src="images/icon-orange-phone.png",Q.src="images/icon-orange-slack.png",U.classList.add("preview-card-image_style3"),U.classList.remove("preview-card-image_style2"),Y.src="images/logo-adalab-negativo.png"),localStorage.setItem("style",m)};F.addEventListener("click",()=>D("style-one"));M.addEventListener("click",()=>D("style-two"));O.addEventListener("click",()=>D("style-three"));const se=localStorage.getItem("style");se&&D(se);console.log("ready!");const Fe=document.querySelector(".design-control-button"),Me=()=>{document.querySelector(".form-design-card").classList.toggle("collapsed")};Fe.addEventListener("click",Me);const Oe=document.querySelector(".form-control-button"),Ne=()=>{document.querySelector(".form-container").classList.toggle("collapsed")};Oe.addEventListener("click",Ne);const He=document.querySelector(".download-card-button");He.addEventListener("click",m=>{m.preventDefault(),Te.toJpeg(document.querySelector(".preview-card"),{quality:.95}).then(h=>{const c=document.createElement("a");c.download="tu-firma.jpeg",c.href=h,c.click()})});
//# sourceMappingURL=main.js.map
